{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/SinglePerson.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","handleFunction","value","onChange","PersonForm","handleNameChange","handleNumberChange","addName","nameValue","numberValue","type","onClick","SinglePerson","person","deleteName","name","number","id","Persons","persons","map","Notification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","serverUrl","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","searchValue","setSearchValue","setMessage","messageType","setMessageType","useEffect","axios","get","then","response","data","initialPersons","setNotification","setTimeout","event","target","console","log","filteredArray","filter","toLowerCase","includes","preventDefault","toLocaleLowerCase","find","changedName","window","confirm","newObject","put","returnedPerson","catch","nameObject","post","create","returnedName","concat","alert","deletedName","delete","deletePerson","filteredPersons","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.851f58d2.chunk.js","sourcesContent":["import React from \"react\";\n\nfunction Filter({ handleFunction, value }) {\n  return (\n    <div>\n      filter shown with <input onChange={handleFunction} value={value} />\n    </div>\n  );\n}\n\nexport default Filter;\n","import React from \"react\";\n\nfunction PersonForm({\n  handleNameChange,\n  handleNumberChange,\n  addName,\n  nameValue,\n  numberValue,\n}) {\n  return (\n    <form>\n      <div>\n        name: <input onChange={handleNameChange} value={nameValue} />\n      </div>\n      <div>\n        number: <input onChange={handleNumberChange} value={numberValue} />\n      </div>\n      <div>\n        <button type=\"submit\" onClick={addName}>\n          add\n        </button>\n      </div>\n    </form>\n  );\n}\n\nexport default PersonForm;\n","import React from \"react\";\n\nfunction SinglePerson({ person, deleteName }) {\n  return (\n    <p>\n      {person.name} {person.number}{\" \"}\n      <button onClick={() => deleteName(person.id)}>delete</button>\n    </p>\n  );\n}\n\nexport default SinglePerson;\n","import React from \"react\";\nimport SinglePerson from \"./SinglePerson\";\n\nfunction Persons({ persons, deleteName }) {\n  return (\n    <div>\n      {persons.map((person) => (\n        <SinglePerson key={person.id} person={person} deleteName={deleteName} />\n      ))}\n    </div>\n  );\n}\n\nexport default Persons;\n","import React from \"react\";\n\nconst Notification = ({ message, type }) => {\n  if (type === \"error\") {\n    const errorStyle = {\n      color: \"red\",\n      background: \"lightgrey\",\n      fontSize: 20,\n      borderStyle: \"solid\",\n      borderRadius: 5,\n      padding: 10,\n      marginBottom: 10,\n    };\n    return <div style={errorStyle}>{message}</div>;\n  }\n  if (type === \"success\") {\n    const successStyle = {\n      color: \"green\",\n      background: \"lightgrey\",\n      fontSize: 20,\n      borderStyle: \"solid\",\n      borderRadius: 5,\n      padding: 10,\n      marginBottom: 10,\n    };\n    return <div style={successStyle}>{message}</div>;\n  }\n  return null;\n};\n\nexport default Notification;\n","import axios from \"axios\";\nconst serverUrl = \"/api/persons\";\n\nexport const getAll = () => {\n  const request = axios.get(serverUrl);\n  return request.then((response) => response.data);\n};\n\nexport const create = (nameObject) => {\n  const request = axios.post(serverUrl, nameObject);\n  return request.then((response) => response.data);\n};\n\nexport const deletePerson = (id) => {\n  const request = axios.delete(`${serverUrl}/${id}`);\n  return request.then((response) => response.data);\n};\n\nexport const updatePerson = (id, newObject) => {\n  const request = axios.put(`${serverUrl}/${id}`, newObject);\n  return request.then((response) => response.data);\n};\n","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\nimport Notification from \"./components/Notification\";\n\nimport { getAll, create, deletePerson, updatePerson } from \"./services/persons\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [searchValue, setSearchValue] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [messageType, setMessageType] = useState(\"\");\n\n  useEffect(() => {\n    getAll().then((initialPersons) => {\n      setPersons(initialPersons);\n    });\n  }, []);\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleSearchChange = (event) => {\n    setSearchValue(event.target.value);\n    console.log(persons);\n    let filteredArray = persons.filter((person) =>\n      person.name.toLowerCase().includes(searchValue.toLowerCase())\n    );\n    setPersons(filteredArray);\n  };\n\n  const addName = (event) => {\n    if (newName !== \"\" && newNumber !== \"\") {\n      event.preventDefault();\n      let arrayOfNames = persons.map((person) => person.name.toLowerCase());\n      if (arrayOfNames.includes(newName.toLocaleLowerCase())) {\n        let name = persons.find(\n          (person) => person.name.toLowerCase() === newName.toLowerCase()\n        );\n        let changedName = { ...name, number: newNumber };\n        if (\n          window.confirm(\n            `${newName} is already added to phonebook, replace the old number with a new one?`\n          )\n        ) {\n          updatePerson(name.id, changedName)\n            .then((returnedPerson) => {\n              console.log(returnedPerson);\n              setPersons(\n                persons.map((person) =>\n                  person.name.toLowerCase() === name.name.toLowerCase()\n                    ? returnedPerson\n                    : person\n                )\n              );\n              setNotification(`Updated ${newName}'s number.`, \"success\");\n            })\n            .catch(() => {\n              setNotification(\n                `Information of ${newName} has already been removed from server. Please reload the page.`,\n                \"error\"\n              );\n            });\n        }\n\n        setNewName(\"\");\n        setNewNumber(\"\");\n        return;\n      }\n\n      let nameObject = { name: newName, number: newNumber };\n      create(nameObject).then((returnedName) => {\n        setPersons(persons.concat(returnedName));\n        setNotification(`Added ${newName}`, \"success\");\n        setNewName(\"\");\n        setNewNumber(\"\");\n      });\n    } else {\n      alert(\"Name or number is empty.\");\n    }\n  };\n\n  const deleteName = (id) => {\n    let deletedName = persons.find((person) => person.id === id).name;\n    if (\n      window.confirm(\n        `Delete ${persons.find((person) => person.id === id).name} ?`\n      )\n    ) {\n      deletePerson(id)\n        .then(() => {\n          let filteredPersons = persons.filter((person) => person.id !== id);\n\n          setPersons(filteredPersons);\n          setNotification(`Deleted ${deletedName}`, \"error\");\n        })\n        .catch(() => {\n          setNotification(\n            `Information of ${deletedName} has already been removed from server. Please reload the page.`,\n            \"error\"\n          );\n        });\n    }\n  };\n\n  const setNotification = (message, type) => {\n    setMessage(message);\n    setMessageType(type);\n    setTimeout(() => {\n      setMessage(\"\");\n      setMessageType(\"\");\n    }, 3000);\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Notification message={message} type={messageType} />\n\n      <Filter handleFunction={handleSearchChange} value={searchValue} />\n\n      <h2>add a new</h2>\n\n      <PersonForm\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n        addName={addName}\n        nameValue={newName}\n        numberValue={newNumber}\n      />\n      <h2>Numbers</h2>\n\n      <Persons persons={persons} deleteName={deleteName} />\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}